@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 206 100% 97%;
    --foreground: 215 25% 27%;

    --card: 0 0% 100%;
    --card-foreground: 215 25% 27%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 25% 27%;

    --primary: 199 89% 48%;
    --primary-foreground: 0 0% 100%;

    --secondary: 199 44% 91%;
    --secondary-foreground: 199 89% 25%;

    --muted: 199 20% 95%;
    --muted-foreground: 199 15% 55%;

    --accent: 187 85% 53%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 199 44% 91%;
    --input: 199 44% 91%;
    --ring: 199 89% 48%;

    --radius: 0.75rem;
    
    /* Water-inspired gradients and effects */
    --gradient-water: linear-gradient(135deg, hsl(199, 89%, 48%) 0%, hsl(187, 85%, 53%) 50%, hsl(206, 100%, 85%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(206, 100%, 97%) 0%, hsl(199, 44%, 96%) 100%);
    --gradient-hero: linear-gradient(135deg, hsl(199, 89%, 55%) 0%, hsl(187, 85%, 60%) 30%, hsl(206, 100%, 85%) 100%);
    --water-ripple: radial-gradient(circle at center, hsl(199, 89%, 85%) 0%, transparent 70%);
    --glass-effect: rgba(255, 255, 255, 0.1);
    --shadow-water: 0 25px 50px -12px hsl(199 89% 48% / 0.25);
    --shadow-soft: 0 10px 25px -5px hsl(199 89% 48% / 0.1);

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  /* Premium Aqua - Deeper Water Theme */
  .theme-premium {
    --background: 200 100% 96%;
    --foreground: 200 25% 15%;
    --primary: 190 100% 35%;
    --primary-foreground: 0 0% 100%;
    --secondary: 195 60% 85%;
    --secondary-foreground: 190 100% 25%;
    --muted: 200 30% 92%;
    --muted-foreground: 200 20% 45%;
    --accent: 185 90% 45%;
    --accent-foreground: 0 0% 100%;
    --gradient-hero: linear-gradient(135deg, hsl(190, 100%, 35%) 0%, hsl(185, 90%, 45%) 50%, hsl(200, 60%, 80%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(200, 100%, 96%) 0%, hsl(195, 60%, 94%) 100%);
    --gradient-water: linear-gradient(135deg, hsl(190, 100%, 35%) 0%, hsl(185, 90%, 45%) 50%, hsl(200, 60%, 85%) 100%);
    --glass-effect: rgba(0, 150, 180, 0.12);
    --shadow-water: 0 25px 50px -12px hsl(190 100% 35% / 0.3);
  }

  /* Natural Cyan - Fresh Spring Theme */
  .theme-natural {
    --background: 180 50% 97%;
    --foreground: 180 30% 20%;
    --primary: 175 85% 45%;
    --primary-foreground: 0 0% 100%;
    --secondary: 180 40% 88%;
    --secondary-foreground: 175 85% 25%;
    --muted: 180 25% 93%;
    --muted-foreground: 180 20% 50%;
    --accent: 170 90% 50%;
    --accent-foreground: 0 0% 100%;
    --gradient-hero: linear-gradient(135deg, hsl(175, 85%, 45%) 0%, hsl(170, 90%, 50%) 50%, hsl(180, 40%, 85%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(180, 50%, 97%) 0%, hsl(180, 40%, 94%) 100%);
    --gradient-water: linear-gradient(135deg, hsl(175, 85%, 45%) 0%, hsl(170, 90%, 50%) 50%, hsl(180, 40%, 87%) 100%);
    --glass-effect: rgba(64, 224, 208, 0.12);
    --shadow-water: 0 25px 50px -12px hsl(175 85% 45% / 0.25);
  }

  /* Modern Steel - Clean Minimal Theme */
  .theme-modern {
    --background: 210 40% 98%;
    --foreground: 210 20% 25%;
    --primary: 205 100% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 30% 90%;
    --secondary-foreground: 205 100% 30%;
    --muted: 210 20% 95%;
    --muted-foreground: 210 15% 55%;
    --accent: 200 100% 55%;
    --accent-foreground: 0 0% 100%;
    --gradient-hero: linear-gradient(135deg, hsl(205, 100%, 50%) 0%, hsl(200, 100%, 55%) 50%, hsl(210, 30%, 88%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(210, 40%, 98%) 0%, hsl(210, 30%, 96%) 100%);
    --gradient-water: linear-gradient(135deg, hsl(205, 100%, 50%) 0%, hsl(200, 100%, 55%) 50%, hsl(210, 30%, 90%) 100%);
    --glass-effect: rgba(70, 130, 180, 0.12);
    --shadow-water: 0 25px 50px -12px hsl(205 100% 50% / 0.25);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-lato;
  }

  /* Responsive typography scaling - uses both vw and vh for better scaling */
  h1 {
    font-size: clamp(2rem, min(5vw, 8vh), 4rem);
    line-height: 1.1;
  }
  
  h2 {
    font-size: clamp(1.5rem, min(4vw, 6vh), 3rem);
    line-height: 1.2;
  }
  
  h3 {
    font-size: clamp(1.25rem, min(3vw, 4vh), 2rem);
    line-height: 1.3;
  }
  
  h4 {
    font-size: clamp(1.125rem, min(2.5vw, 3.5vh), 1.5rem);
    line-height: 1.4;
  }
  
  p {
    font-size: clamp(1rem, min(2vw, 3vh), 1.125rem) !important;
    line-height: 1.5;
  }
  
  .text-xs,
  .text-sm,
  .text-base,
  .text-lg,
  .text-xl {
    font-size: clamp(1rem, min(2vw, 3vh), 1.125rem) !important;
  }
  
  /* Additional specificity for body text */
  .slide-content .text-xs,
  .slide-content .text-sm,
  .slide-content .text-base,
  .slide-content .text-lg,
  .slide-content .text-xl {
    font-size: clamp(1rem, min(2vw, 3vh), 1.125rem) !important;
    line-height: 1.4 !important;
  }
  
  /* Specific override for health impact cards to ensure consistent spacing */
  .bg-orange-500\/15 .text-white\/80 {
    line-height: 1.4 !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  .text-2xl {
    font-size: clamp(1.5rem, min(4vw, 6vh), 3rem);
  }
  
  .text-3xl {
    font-size: clamp(1.875rem, min(5vw, 8vh), 4rem);
  }
  
  .text-4xl {
    font-size: clamp(2.25rem, min(6vw, 9vh), 5rem);
  }
  
  .text-5xl {
    font-size: clamp(3rem, min(8vw, 12vh), 6rem);
  }
  
  .text-6xl {
    font-size: clamp(3.75rem, min(10vw, 15vh), 8rem);
  }
}

/* Presentation-specific styles */
@layer components {
  .slide-container {
    @apply min-h-screen w-full flex items-center justify-center relative overflow-hidden;
  }
  
  .slide-content {
    @apply mx-auto text-center relative z-10;
    width: clamp(800px, 90vw, 1400px);
    padding: clamp(1rem, 3vh, 3rem) clamp(1rem, 4vw, 2rem);
    /* Add left padding to account for sidebar navigation */
    padding-left: clamp(2rem, 6vw, 4rem);
  }
  
  /* Responsive spacing utilities for slides */
  .slide-section-spacing {
    margin-bottom: clamp(1rem, min(2vw, 3vh), 2rem);
  }
  
  .slide-section-spacing-lg {
    margin-bottom: clamp(1.5rem, min(3vw, 4vh), 3rem);
  }
  
  .slide-card-compact {
    padding: clamp(1rem, min(2vw, 3vh), 2rem);
  }
  
  .slide-card-medium {
    padding: clamp(1.5rem, min(3vw, 4vh), 3rem);
  }
  
  .slide-header-compact {
    margin-bottom: clamp(1.5rem, min(3vw, 4vh), 3rem);
  }
  
  .slide-grid-tight {
    gap: clamp(1rem, min(2vw, 3vh), 2rem);
  }
  
  .slide-grid-medium {
    gap: clamp(1.5rem, min(3vw, 4vh), 3rem);
  }
  
  .water-effect {
    background: var(--gradient-water);
    position: relative;
  }
  
  .water-effect::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--water-ripple);
    opacity: 0.3;
    pointer-events: none;
  }
  
  .glass-card {
    @apply backdrop-blur-sm border border-white/20 rounded-2xl shadow-soft;
    background: var(--glass-effect);
  }
  
  .slide-fade {
    animation: slideIn 0.8s ease-out forwards;
  }
  
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-simple-fade-out {
    animation: simpleFadeOut 1.2s ease-out forwards;
  }
  
  @keyframes simpleFadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  .animate-ominous-fade-out {
    animation: ominousFadeOut 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }
  
  @keyframes ominousFadeOut {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }

  /* Floating particle animations */
  @keyframes float-up {
    0% {
      transform: translateY(0) scale(0);
      opacity: 0;
    }
    10% {
      opacity: 1;
      transform: scale(1);
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(-100vh) scale(0);
      opacity: 0;
    }
  }

  .animate-float-1 {
    animation: float-up 8s infinite linear;
    animation-delay: 0s;
  }
  
  .animate-float-2 {
    animation: float-up 12s infinite linear;
    animation-delay: 2s;
  }
  
  .animate-float-3 {
    animation: float-up 10s infinite linear;
    animation-delay: 4s;
  }
  
  .animate-float-4 {
    animation: float-up 9s infinite linear;
    animation-delay: 1s;
  }
  
  .animate-float-5 {
    animation: float-up 11s infinite linear;
    animation-delay: 3s;
  }
  
  .animate-float-6 {
    animation: float-up 13s infinite linear;
    animation-delay: 5s;
  }
  
  .animate-float-7 {
    animation: float-up 7s infinite linear;
    animation-delay: 6s;
  }

  /* Navigation overlap prevention - no longer needed with sidebar */
  .navigation-safe-zone {
    /* Class kept for backwards compatibility but no special spacing needed */
    margin-bottom: 0;
  }
}

/* Responsive media queries for different aspect ratios */
@media (aspect-ratio: 16/9) {
  .slide-content {
    width: clamp(900px, 85vw, 1200px);
  }
}

@media (aspect-ratio: 21/9) and (min-width: 2560px) {
  .slide-content {
    width: clamp(1200px, 70vw, 1600px);
    padding: clamp(2rem, 4vh, 4rem) clamp(2rem, 6vw, 3rem);
  }
}

@media (aspect-ratio: 4/3) {
  .slide-content {
    width: clamp(700px, 80vw, 1000px);
  }
}

@media (min-width: 3840px) {
  /* 4K displays */
  .slide-content {
    width: clamp(1400px, 65vw, 2000px);
    padding: clamp(2rem, min(4vw, 6vh), 6rem) clamp(2rem, 5vw, 4rem);
  }
  
  h1 { font-size: clamp(3rem, min(4vw, 8vh), 6rem); }
  h2 { font-size: clamp(2rem, min(3vw, 6vh), 5rem); }
  h3 { font-size: clamp(1.5rem, min(2.5vw, 5vh), 4rem); }
  p { font-size: clamp(1.25rem, min(1.5vw, 3vh), 2rem); }
}

@media (min-width: 5120px) {
  /* 5K and ultrawide displays */
  .slide-content {
    width: clamp(1600px, 60vw, 2400px);
    padding: clamp(3rem, min(5vw, 8vh), 8rem) clamp(3rem, 6vw, 5rem);
  }
  
  h1 { font-size: clamp(4rem, min(5vw, 10vh), 8rem); }
  h2 { font-size: clamp(3rem, min(4vw, 8vh), 6rem); }
  h3 { font-size: clamp(2rem, min(3vw, 6vh), 5rem); }
  p { font-size: clamp(1.5rem, min(2vw, 4vh), 2.5rem); }
}

/* Footnote highlighting animation */
@keyframes footnote-highlight {
  0% { 
    background-color: rgba(59, 130, 246, 0.3);
    transform: scale(1.02);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
  }
  50% { 
    background-color: rgba(59, 130, 246, 0.2);
    transform: scale(1.01);
  }
  100% { 
    background-color: rgba(59, 130, 246, 0.1);
    transform: scale(1);
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
  }
}

.footnote-highlight {
  animation: footnote-highlight 3s ease-in-out;
  border: 2px solid rgba(59, 130, 246, 0.5) !important;
  border-radius: 12px !important;
}